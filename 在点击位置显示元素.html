<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>demo</title>
    <style type="text/css">
      *{
        margin: 0;
        padding: 0;
      }
      .foo {
        width: 100%;
        height: 100px;
        background: rgba(0, 0, 0, .8);
        position: relative;
      }
      .message {
        position: absolute;
        background: lightgray;
        width: 100px;
      }
    </style>
</head>

<body>
    <div id="foo" class="foo">
        <div id="message" class="message">
            Hello, world!
        </div>
    </div>

    <script type="text/javascript">
        var foo = document.getElementById("foo");
        function getPosition(event) {
            var x = event.clientX;
            var y = event.clientY;
            var r = event.target.getBoundingClientRect();
            console.log(r);
            x -= r.left;
            y -= r.top;
            return {
                x: x,
                y: y
            };
        }
        foo.addEventListener('click', function(event){
            var message = document.getElementById('message');
            if(event.target === message){
                return;
            }
            var pos = getPosition(event);
            message.style.left = pos.x + 'px';
            message.style.top = pos.y + 'px';
        }, false);
    </script>
</body>

</html>
